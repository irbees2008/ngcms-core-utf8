<?php
// Protect against hack attempts
if (!defined('NGCMS')) die ('HAL');
//
// Configuration file for plugin
//
// Preload config file
plugins_load_config();
// Set default values if values are not set [for new variables]
$pluginDefaults = array(
	'global_default'     => 1,
	'default_news'       => 2,
	'default_categories' => 2,
);
foreach ($pluginDefaults as $k => $v) {
	if (pluginGetVariable('comments', $k) == null)
		pluginSetVariable('comments', $k, $v);
}
// Fill configuration parameters
$cfg = array();
$cfgX = array();
array_push($cfg, array('descr' => 'РџР»Р°РіРёРЅ СЂРµР°Р»РёР·СѓРµС‚ Р±Р°Р·РѕРІС‹Р№ С„СѓРЅРєС†РёРѕРЅР°Р» СЂР°Р±РѕС‚С‹ СЃ РєРѕРјРјРµРЅС‚Р°СЂРёСЏРјРё.<br/><font color="red"><b>РћР±СЂР°С‚РёС‚Рµ РІРЅРёРјР°РЅРёРµ:</b> РїР»Р°РіРёРЅ РґР»СЏ СЃРІРѕРµР№ СЂР°Р±РѕС‚С‹ РёСЃРїРѕР»СЊР·СѓРµС‚ С„Р°Р№Р»С‹-С€Р°Р±Р»РѕРЅС‹ РёР· <u>РѕСЃРЅРѕРІРЅРѕРіРѕ С€Р°Р±Р»РѕРЅР° СЃР°Р№С‚Р°</u></font>.'));
$cfgX = array();
array_push($cfgX, array('name' => 'regonly', 'title' => "РљРѕРјРјРµРЅС‚Р°СЂРёРё С‚РѕР»СЊРєРѕ РґР»СЏ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹С…", 'descr' => '<b>Р”Р°</b> - РєРѕРјРјРµРЅС‚Р°СЂРёРё РјРѕРіСѓС‚ РѕСЃС‚Р°РІР»СЏС‚СЊ С‚РѕР»СЊРєРѕ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Рµ РїРѕР»СЊР·РѕРІР°С‚РµР»Рё<br/><b>РќРµС‚</b> - РєРѕРјРјРµРЅС‚Р°СЂРёРё РјРѕР¶РµС‚ РѕСЃС‚Р°РІРёС‚СЊ Р»СЋР±РѕР№ РїРѕСЃРµС‚РёС‚РµР»СЊ', 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'regonly'))));
array_push($cfgX, array('name' => 'guest_edup_lock', 'title' => "Р—Р°РїСЂРµС‚РёС‚СЊ РіРѕСЃС‚СЏРј РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ <b>email</b>'С‹ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹С… РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№", 'descr' => '<b>Р”Р°</b> - РіРѕСЃС‚Рё РЅРµ СЃРјРѕРіСѓС‚ РІ РєР°С‡РµСЃС‚РІРµ email Р°РґСЂРµСЃР° СѓРєР°Р·С‹РІР°С‚СЊ Р°РґСЂРµСЃ СѓР¶Рµ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹С… РїРѕР»СЊР·РѕРІР°С‚Р°Р»РµР№<br/><b>РќРµС‚</b> - РіРѕСЃС‚СЊ РјРѕР¶РµС‚ РёСЃРїРѕР»СЊР·РѕРІР°С‚СЊ Р»СЋР±РѕР№ РІР°Р»РёРґРЅС‹Р№ email Р°РґСЂРµСЃ', 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'guest_edup_lock'))));
array_push($cfgX, array('name' => 'backorder', 'title' => "РћС‡РµСЂРµРґРЅРѕСЃС‚СЊ РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ", 'descr' => "<b>РџСЂСЏРјР°СЏ</b> - РѕС‚РѕР±СЂР°Р¶РµРЅРёРµ РІ РїРѕСЂСЏРґРєРµ РґРѕР±Р°РІР»РµРЅРёСЏ<br/><b>РћР±СЂР°С‚РЅР°СЏ</b> - СЃР°РјС‹Рµ РЅРѕРІС‹Рµ РїРѕРєР°Р·С‹РІР°СЋС‚СЃСЏ РїРµСЂРІС‹РјРё", 'type' => 'select', 'values' => array('0' => 'РџСЂСЏРјР°СЏ', '1' => 'РћР±СЂР°С‚РЅР°СЏ'), 'value' => intval(pluginGetVariable($plugin, 'backorder'))));
array_push($cfgX, array('name' => 'maxlen', 'title' => "РњР°РєСЃРёРјР°Р»СЊРЅС‹Р№ СЂР°Р·РјРµСЂ", 'descr' => "РЈРєР°Р¶РёС‚Рµ РјР°РєСЃРёРјР°Р»СЊРЅРѕРµ РєРѕР»-РІРѕ СЃРёРјРІРѕР»РѕРІ РґР»СЏ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ (РЅР°РїСЂРёРјРµСЂ: <b>200</b>; <b>0</b> - РЅРµ РѕРіСЂР°РЅРёС‡РёРІР°С‚СЊ)", 'type' => 'input', 'html_flags' => 'size="4"', 'value' => pluginGetVariable($plugin, 'maxlen')));
array_push($cfgX, array('name' => 'maxwlen', 'title' => "РђРІС‚РѕСѓСЂРµР·Р°РЅРёРµ СЃР»РѕРІ РІ РєРѕРјРјРµРЅС‚Р°СЂРёСЏС…", 'descr' => "Р’ СЃР»СѓС‡Р°Рµ РїСЂРµРІС‹С€РµРЅРёСЏ Р·Р°РґР°РЅРЅРѕРіРѕ С‡РёСЃР»Р°, РІ СЃР»РѕРІРѕ Р±СѓРґРµС‚ Р°РІС‚РѕРјР°С‚РёС‡РµСЃРєРё Р±СѓРґРµС‚ РґРѕР±Р°РІР»СЏС‚СЊСЃСЏ РїСЂРѕР±РµР» (РЅР°РїСЂРёРјРµСЂ: <b>50</b>)", 'type' => 'input', 'html_flags' => 'size="4"', 'value' => pluginGetVariable($plugin, 'maxwlen')));
array_push($cfgX, array('name' => 'multi', 'title' => "Р Р°Р·СЂРµС€РёС‚СЊ РјРЅРѕР¶РµСЃС‚РІРµРЅРЅС‹Рµ РєРѕРјРјРµРЅС‚Р°СЂРёРё", 'descr' => "<b>Р”Р°</b> - РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ РјРѕР¶РµС‚ РѕСЃС‚Р°РІР»СЏС‚СЊ РїРѕСЃР»РµРґРѕРІР°С‚РµР»СЊРЅРѕ РЅРµСЃРєРѕР»СЊРєРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ<br/><b>РќРµС‚</b> - РїРѕР»СЊР·РѕРІР°С‚РµР»СЋ Р·Р°РїСЂРµС‰РµРЅРѕ СЂР°Р·РјРµС‰Р°С‚СЊ РїРѕСЃР»РµРґРѕРІР°С‚РµР»СЊРЅРѕ РЅРµСЃРєРѕР»СЊРєРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ (РЅРµРѕР±С…РѕРґРёРјРѕ РґРѕР¶РґР°С‚СЊСЃСЏ РєРѕРјРјРµРЅС‚Р°СЂРёСЏ РґСЂСѓРіРѕРіРѕ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ)", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'multi'))));
array_push($cfgX, array('name' => 'author_multi', 'title' => "Р Р°Р·СЂРµС€РёС‚СЊ РјРЅРѕР¶РµСЃС‚РІРµРЅРЅС‹Рµ РєРѕРјРјРµРЅС‚Р°СЂРёРё <u>РґР»СЏ Р°РІС‚РѕСЂР°</u>", 'descr' => "<b>Р”Р°</b> - Р°РІС‚РѕСЂ РјРѕР¶РµС‚ РѕСЃС‚Р°РІР»СЏС‚СЊ РїРѕСЃР»РµРґРѕРІР°С‚РµР»СЊРЅРѕ РЅРµСЃРєРѕР»СЊРєРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ<br/><b>РќРµС‚</b> - Р°РІС‚РѕСЂСѓ Р·Р°РїСЂРµС‰РµРЅРѕ СЂР°Р·РјРµС‰Р°С‚СЊ РїРѕСЃР»РµРґРѕРІР°С‚РµР»СЊРЅРѕ РЅРµСЃРєРѕР»СЊРєРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'author_multi'))));
array_push($cfgX, array('name' => 'timestamp', 'title' => "Р¤РѕСЂРјР°С‚ РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ РґР°С‚С‹/РІСЂРµРјРµРЅРё", 'descr' => "РџРѕРјРѕС‰СЊ РїРѕ СЂР°Р±РѕС‚Рµ С„СѓРЅРєС†РёРё: <a href=\"http://php.net/date/\" target=\"_blank\">php.net/date</a><br/>Р—РЅР°С‡РµРЅРёРµ РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ: <b>j.m.Y - H:i</b>", 'type' => 'input', 'value' => pluginGetVariable($plugin, 'timestamp')));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РћР±С‰РёРµ РЅР°СЃС‚СЂРѕР№РєРё</b>', 'entries' => $cfgX));
$cfgX = array();
array_push($cfgX, array('name' => 'global_default', 'title' => "РџРѕ СѓРјРѕР»С‡Р°РЅРёСЋ РєРѕРјРјРµРЅС‚Р°СЂРёРё", 'descr' => '<b>СЂР°Р·СЂРµС€РµРЅС‹</b> - Р±СѓРґСѓС‚ СЂР°Р·СЂРµС€РµРЅС‹ РІ РЅРѕРІРѕСЃС‚Рё РµСЃР»Рё РѕРЅРё СЏРІРЅРѕ РЅРµ Р·Р°РїСЂРµС‰РµРЅС‹<br/><b>Р·Р°РїСЂРµС‰РµРЅС‹</b> - Р±СѓРґСѓС‚ Р·Р°РїСЂРµС‰РµРЅС‹ РЅРѕРІРѕСЃС‚Рё РµСЃР»Рё РѕРЅРё СЏРІРЅРѕ РЅРµ СЂР°Р·СЂРµС€РµРЅС‹', 'type' => 'select', 'values' => array('0' => 'Р·Р°РїСЂРµС‰РµРЅС‹', '1' => 'СЂР°Р·СЂРµС€РµРЅС‹'), 'value' => intval(pluginGetVariable($plugin, 'global_default'))));
array_push($cfgX, array('name' => 'default_news', 'title' => "Р—РЅР°С‡РµРЅРёРµ РґРѕСЃС‚СѓРїРЅРѕСЃС‚Рё РїСЂРё РґРѕР±Р°РІР»РµРЅРёРё РЅРѕРІРѕСЃС‚РµР№", 'descr' => 'РџСЂРё РґРѕР±Р°РІР»РµРЅРёРё РЅРѕРІРѕСЃС‚РµР№ РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ Р±СѓРґРµС‚ СѓСЃС‚Р°РЅР°РІР»РёРІР°С‚СЊСЃСЏ:<br/><b>Р·Р°РїСЂРµС‚РёС‚СЊ</b> - РєРѕРјРјРµРЅС‚Р°СЂРёРё Р±СѓРґСѓС‚ Р·Р°РїСЂРµС‰РµРЅС‹<br/><b>СЂР°Р·СЂРµС€РёС‚СЊ</b> - РєРѕРјРјРµРЅС‚Р°СЂРёРё Р±СѓРґСѓС‚ СЂР°Р·СЂРµС€РµРЅС‹<br/><b>РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ</b> - С„Р»Р°Рі СЂР°Р·СЂРµС€РµРЅРёСЏ/Р·Р°РїСЂРµС‚Р° РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ Р±СѓРґРµС‚ Р±СЂР°С‚СЊСЃСЏ РёР· РЅР°СЃС‚СЂРѕРµРє РіР»Р°РІРЅРѕР№ РєР°С‚РµРіРѕСЂРёРё РЅРѕРІРѕСЃС‚Рё', 'type' => 'select', 'values' => array('0' => 'Р·Р°РїСЂРµС‰РµРЅС‹', '1' => 'СЂР°Р·СЂРµС€РµРЅС‹', '2' => 'РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ'), 'value' => intval(pluginGetVariable($plugin, 'default_news'))));
array_push($cfgX, array('name' => 'default_categories', 'title' => "Р—РЅР°С‡РµРЅРёРµ РґРѕСЃС‚СѓРїРЅРѕСЃС‚Рё РїСЂРё РґРѕР±Р°РІР»РµРЅРёРё РєР°С‚РµРіРѕСЂРёР№", 'descr' => 'РџСЂРё РґРѕР±Р°РІР»РµРЅРёРё РєР°С‚РµРіРѕСЂРёР№ РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ Р±СѓРґРµС‚ СѓСЃС‚Р°РЅР°РІР»РёРІР°С‚СЊСЃСЏ:<br/><b>Р·Р°РїСЂРµС‚РёС‚СЊ</b> - РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ РєРѕРјРјРµРЅС‚Р°СЂРёРё РІ РЅРѕРІРѕСЃС‚СЏС… СЌС‚РѕР№ РєР°С‚РµРіРѕСЂРёРё Р·Р°РїСЂРµС‰РµРЅС‹<br/><b>СЂР°Р·СЂРµС€РёС‚СЊ</b> - РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ РєРѕРјРјРµРЅС‚Р°СЂРёРё РІ СЌС‚РѕР№ РєР°С‚РµРіРѕСЂРёРё Р±СѓРґСѓС‚ СЂР°Р·СЂРµС€РµРЅС‹<br/><b>РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ</b> - С„Р»Р°Рі СЂР°Р·СЂРµС€РµРЅРёСЏ/Р·Р°РїСЂРµС‚Р° РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ Р±СѓРґРµС‚ Р±СЂР°С‚СЊСЃСЏ РёР· РїР°СЂР°РјРµС‚СЂР° "РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ РєРѕРјРјРµРЅС‚Р°СЂРёРё"', 'type' => 'select', 'values' => array('0' => 'Р·Р°РїСЂРµС‰РµРЅС‹', '1' => 'СЂР°Р·СЂРµС€РµРЅС‹', '2' => 'РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ'), 'value' => intval(pluginGetVariable($plugin, 'default_categories'))));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РќР°СЃС‚СЂРѕР№РєРё РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ</b>', 'entries' => $cfgX, 'toggle' => true, 'toggle.mode' => 'hide'));
$cfgX = array();
array_push($cfgX, array('name' => 'multipage', 'title' => "Р�СЃРїРѕР»СЊР·РѕРІР°С‚СЊ РјРЅРѕРіРѕСЃС‚СЂР°РЅРёС‡РЅРѕРµ РѕС‚РѕР±СЂР°Р¶РµРЅРёРµ", 'descr' => '<b>Р”Р°</b> - РЅР° СЃС‚СЂР°РЅРёС†Рµ РЅРѕРІРѕСЃС‚Рё Р±СѓРґРµС‚ РѕС‚РѕР±СЂР°Р¶Р°С‚СЊСЃСЏ С‚РѕР»СЊРєРѕ С‡Р°СЃС‚СЊ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ, РѕСЃС‚Р°Р»СЊРЅС‹Рµ Р±СѓРґСѓС‚ РґРѕСЃС‚СѓРїРЅС‹ РЅР° РѕС‚РґРµР»СЊРЅРѕР№ СЃС‚СЂР°РЅРёС‡РєРµ<br/><b>РќРµС‚</b> - РІСЃРµ РєРѕРјРјРµРЅС‚Р°СЂРёРё Р±СѓРґСѓС‚ РѕС‚РѕР±СЂР°Р¶Р°С‚СЊСЃСЏ РЅР° СЃС‚СЂР°РЅРёС†Рµ РЅРѕРІРѕСЃС‚Рё', 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'multipage'))));
array_push($cfgX, array('name' => 'multi_mcount', 'title' => "РљРѕР»-РІРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ РЅР° СЃС‚СЂР°РЅРёС†Рµ РЅРѕРІРѕСЃС‚Рё", 'descr' => "РЈРєР°Р¶РёС‚Рµ РєРѕР»-РІРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ, РѕС‚РѕР±СЂР°Р¶Р°РµРјС‹С… РЅР° СЃС‚СЂР°РЅРёС†Рµ РЅРѕРІРѕСЃС‚Рё<br/>(<b>0</b> - РЅРµ РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ РЅРё РѕРґРЅРѕРіРѕ РєРѕРјРјРµРЅС‚Р°СЂРёСЏ)", 'type' => 'input', 'html_flags' => 'size="4"', 'value' => pluginGetVariable($plugin, 'multi_mcount')));
array_push($cfgX, array('name' => 'multi_scount', 'title' => "РљРѕР»-РІРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ РЅР° СЃС‚СЂР°РЅРёС†Рµ СЃ РєРѕРјРјРµРЅС‚Р°СЂРёСЏРјРё", 'descr' => "РЈРєР°Р¶РёС‚Рµ РєРѕР»-РІРѕ РєРѕРјРјРµРЅС‚Р°СЂРёРµРІ, РѕС‚РѕР±СЂР°Р¶Р°РµРјС‹С… РЅР° РєР°Р¶РґРѕР№ СЃС‚СЂР°РЅРёС†Рµ СЃ РєРѕРјРјРµРЅС‚Р°СЂРёСЏРјРё<br/>(<b>0</b> - РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ РІСЃРµ РЅР° РѕРґРЅРѕР№ СЃС‚СЂР°РЅРёС†Рµ)", 'type' => 'input', 'html_flags' => 'size="4"', 'value' => pluginGetVariable($plugin, 'multi_scount')));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РњРЅРѕРіРѕСЃС‚СЂР°РЅРёС‡РЅРѕРµ РѕС‚РѕР±СЂР°Р¶РµРЅРёРµ</b>', 'entries' => $cfgX, 'toggle' => true, 'toggle.mode' => 'hide'));
$cfgX = array();
array_push($cfgX, array('name' => 'inform_author', 'title' => "РћРїРѕРІРµС‰Р°С‚СЊ Р°РІС‚РѕСЂР° РЅРѕРІРѕСЃС‚Рё РїРѕ email Рѕ РЅРѕРІРѕРј РєРѕРјРјРµРЅС‚Р°СЂРёРё", 'descr' => "<b>Р”Р°</b> - РїСЂРё РґРѕР±Р°РІР»РµРЅРёРё РєР°Р¶РґРѕРіРѕ РєРѕРјРјРµРЅС‚Р°СЂРёСЏ Р°РІС‚РѕСЂ Р±СѓРґРµС‚ РїРѕР»СѓС‡Р°С‚СЊ e-mail СЃРѕРѕР±С‰РµРЅРёРµ<br/><b>РќРµС‚</b> - Р°РІС‚РѕСЂ РЅРµ Р±СѓРґРµС‚ РїРѕР»СѓС‡Р°С‚СЊ e-mail РЅРѕС‚РёС„РёРєР°С†РёР№", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'inform_author'))));
array_push($cfgX, array('name' => 'inform_admin', 'title' => "РћРїРѕРІРµС‰Р°С‚СЊ Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂР° Рѕ РЅРѕРІРѕРј РєРѕРјРјРµРЅС‚Р°СЂРёРё", 'descr' => "<b>Р”Р°</b> - РїСЂРё РґРѕР±Р°РІР»РµРЅРёРё РєР°Р¶РґРѕРіРѕ РєРѕРјРјРµРЅС‚Р°СЂРёСЏ Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂ Р±СѓРґРµС‚ РїРѕР»СѓС‡Р°С‚СЊ e-mail СЃРѕРѕР±С‰РµРЅРёРµ<br/><b>РќРµС‚</b> - Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂ(С‹) РЅРµ Р±СѓРґРµС‚ РїРѕР»СѓС‡Р°С‚СЊ e-mail РЅРѕС‚РёС„РёРєР°С†РёР№", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'inform_admin'))));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РќР°СЃС‚СЂРѕР№РєРё РѕРїРѕРІРµС‰РµРЅРёР№</b>', 'entries' => $cfgX, 'toggle' => true, 'toggle.mode' => 'hide'));
// RUN
if ($_REQUEST['action'] == 'commit') {
	// If submit requested, do config save
	commit_plugin_config_changes($plugin, $cfg);
	print_commit_complete($plugin);
} else {
	generate_config_page($plugin, $cfg);
}
?>