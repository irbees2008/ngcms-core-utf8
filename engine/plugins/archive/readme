# =========================================================================== #
# NG CMS // РџР»Р°РіРёРЅС‹ // РђСЂС…РёРІ СЃР°Р№С‚Р°                                            #
# =========================================================================== #

РџР»Р°РіРёРЅ РїРѕР·РІРѕР»СЏРµС‚ РЅР° СЃР°Р№С‚Рµ РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ РёРЅС„РѕСЂРјР°С†РёРѕРЅРЅС‹Р№ Р±Р»РѕРє-Р°СЂС…РёРІ РЅРѕРІРѕСЃС‚РµР№.
Р’ Р±Р»РѕРєРµ РїРѕРєР°Р·С‹РІР°РµС‚СЃСЏ СЃРїРёСЃРѕРє РјРµСЃСЏС†РµРІ РІ РєРѕС‚РѕСЂС‹Рµ РЅР° СЃР°Р№С‚Рµ СЃРѕР·РґР°РІР°Р»РёСЃСЊ РЅРѕРІРѕСЃС‚Рё.

Р”Р»СЏ СЂР°Р±РѕС‚С‹ РїР»Р°РіРёРЅР° РёСЃРїРѕР»СЊР·СѓРµС‚СЃСЏ РµРґРёРЅС‹Р№ TWIG С€Р°Р±Р»РѕРЅ (РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ archive.tpl).
--------------------------------------------------------------------
РџРѕРґРґРµСЂР¶РёРІР°РµРјС‹Рµ РїРµСЂРµРјРµРЅРЅС‹Рµ:
  . {{tpl_url}} - РїСѓС‚СЊ Рє С‚РµРєСѓС‰РµРјСѓ Р°РєС‚РёРІРЅРѕРјСѓ С€Р°Р±Р»РѕРЅСѓ СЃР°Р№С‚Р°

* Р¦РёРєР» {% for entry in entries %}{% endfor %} - С€Р°Р±Р»РѕРЅ СЃРѕРґРµСЂР¶РёРјРѕРіРѕ (СЃС‚СЂРѕРєРё) РёРЅС„РѕСЂРјР°С†РёРѕРЅРЅРѕРіРѕ Р±Р»РѕРєР°
  РџРѕРґРґРµСЂР¶РёРІР°РµРјС‹Рµ РїРµСЂРµРјРµРЅРЅС‹Рµ:
  . {{entry.link}}   - СЃСЃС‹Р»РєР° РЅР° РЅРѕРІРѕСЃС‚Рё РїРѕ СѓРєР°Р·Р°РЅРЅРѕРјСѓ РјРµСЃСЏС†Сѓ
  . {{entry.title}}   - РЅР°Р·РІР°РЅРёРµ РјРµСЃСЏС†Р° Рё РіРѕРґ
  . {{entry.cnt}}     - РєРѕР»-РІРѕ РЅРѕРІРѕСЃС‚РµР№ РІ СѓРєР°Р·Р°РЅРЅРѕРј РјРµСЃСЏС†Рµ [РІРєР»СЋС‡Р°РµС‚СЃСЏ РІ РЅР°СЃС‚СЂРѕР№РєР°С…]
  . {{entry.ctext}}   - С‚РµРєСЃС‚РѕРІРѕРµ РѕРїРёСЃР°РЅРёРµ РєРѕР»-РІР°, РєРѕРЅРєСЂРµС‚РЅРѕРµ СЃР»РѕРІРѕ СѓРєР°Р·Р°РЅРѕ РІ СЏР·С‹РєРѕРІРѕРј
                С„Р°Р№Р»Рµ main.ini (РїРµСЂРµРјРµРЅРЅР°СЏ counter.case) [РІРєР»СЋС‡Р°РµС‚СЃСЏ РІ РЅР°СЃС‚СЂРѕР№РєР°С…]
  . {% if (entry.counter) %} .. {% endif %} - РёРЅС„РѕСЂРјР°С†РёРѕРЅРЅС‹Р№ Р±Р»РѕРє, РІСЃС‘ С‡С‚Рѕ РІ РЅС‘Рј Р»РµР¶РёС‚ Р»РёР±Рѕ
    (РЅРµ)РїРѕРєР°Р·С‹РІР°РµС‚СЃСЏ РІ Р·Р°РІРёСЃРёРјРѕСЃС‚Рё РѕС‚ СѓСЃС‚Р°РЅРѕРІРєРё С„Р»Р°РіР° "РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ СЃС‡РµС‚С‡РёРє РЅРѕРІРѕСЃС‚РµР№"
    РІ РЅР°СЃС‚СЂРѕР№РєР°С… РїР»Р°РіРёРЅР°


================================================================================
Р’Р°СЂРёР°РЅС‚С‹ РёСЃРїРѕР»СЊР·РѕРІР°РЅРёСЏ РїР»Р°РіРёРЅР° РІ С€Р°Р±Р»РѕРЅР°С…
================================================================================
1. РђРІС‚РѕРјР°С‚РёС‡РµСЃРєРёР№ Р·Р°РїСѓСЃРє.
Р’ С€Р°Р±Р»РѕРЅРµ main.tpl Р±СѓРґРµС‚ РґРѕСЃС‚СѓРїРЅР° РїРµСЂРµРјРµРЅРЅР°СЏ {plugin_archive} СЃ РІС‹РІРѕРґРѕРј Р±Р»РѕРєР° РєР°Р»РµРЅРґР°СЂСЏ
2. TWIG
Р’ Р»СЋР±РѕРј С€Р°Р±Р»РѕРЅРµ РјРѕР¶РЅРѕ Р·Р°РїСѓСЃС‚РёС‚СЊ РіРµРЅРµСЂР°С†РёСЋ РєР°Р»РµРЅРґР°СЂСЏ РїСЂРё РїРѕРјРѕС‰Рё  TWIG С„СѓРЅРєС†РёРё callPlugin()

РџСЂРёРјРµСЂ (РґР»СЏ TWIG С€Р°Р±Р»РѕРЅР°):
{{ callPlugin('archive.show', {'maxnum' : 12, 'counter' : 1, 'tcounter' : 1, 'template': 'archive_twig'}) }}

РџСЂРёРјРµСЂ (РґР»СЏ Р»СЋР±РѕРіРѕ РЅРµ-TWIG С€Р°Р±Р»РѕРЅР°, Рє РїСЂРёРјРµСЂСѓ, РґР»СЏ main.tpl):
[TWIG]{{ callPlugin('archive.show', {'cacheExpire': 60 }) }}[/TWIG]

Р”РѕСЃС‚СѓРїРЅС‹Рµ РїРµСЂРµРјРµРЅРЅС‹Рµ (РїРµСЂРµРґР°СЋС‚СЃСЏ РІ РєР°С‡РµСЃС‚РІРµ РјРµСЃСЃРёРІР° РїР°СЂР°РјРµС‚СЂРѕРІ РїРѕСЃР»Рµ РёРјРµРЅРё 'archive.show':
* maxnum		- РєРѕР»-РІРѕ РѕС‚РѕР±СЂР°Р¶Р°РµРјС‹С… РјРµСЃСЏС†РµРІ
* counter		- РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ СЃС‡РµС‚С‡РёРє РЅРѕРІРѕСЃС‚РµР№
* tcounter	- РѕС‚РѕР±СЂР°Р¶Р°С‚СЊ С‚РµРєСЃС‚РѕРІРѕРµ РѕРїРёСЃР°РЅРёРµ РєРѕР»РёС‡РµСЃС‚РІР°
* template	- РёРјСЏ С€Р°Р±Р»РѕРЅР°
* cacheExpire		- СЃСЂРѕРє Р¶РёР·РЅРё РєРµС€Р° (РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ = 0)

__________________________________________
  РџРѕРґРґРµСЂР¶РёРІР°РµРјС‹Рµ С„СѓРЅРєС†РёРё                 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+ Р“РµРЅРµСЂР°С†РёСЋ Р±Р»РѕРєР° РїСЂРё РїРѕРјРѕС‰Рё TWIG С„СѓРЅРєС†РёРё callPlugin()
+ РљРµС€РёСЂРѕРІР°РЅРёРµ
+ РЁР°Р±Р»РѕРЅС‹ РїР»Р°РіРёРЅР° РІРЅСѓС‚СЂРё С€Р°Р±Р»РѕРЅР° СЃР°Р№С‚Р°