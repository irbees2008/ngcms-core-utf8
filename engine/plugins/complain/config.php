<?php
// Protect against hack attempts
if (!defined('NGCMS')) die ('HAL');
//
// Configuration file for plugin
//
// Preload config file
plugins_load_config();
// Fill configuration parameters
$cfg = array();
$cfgX = array();
array_push($cfg, array('descr' => 'РџР»Р°РіРёРЅ РїРѕР·РІРѕР»СЏРµС‚ Р»СЋР±РѕРјСѓ РїРѕСЃРµС‚РёС‚РµР»СЋ РѕС‚РїСЂР°РІРёС‚СЊ Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂСѓ/Р°РІС‚РѕСЂСѓ РЅРѕРІРѕСЃС‚Рё РѕС‚С‡С‘С‚ Рѕ РїСЂРѕР±Р»РµРјРµ РІ РєРѕРЅРєСЂРµС‚РЅРѕР№ РЅРѕРІРѕСЃС‚Рё'));
$cfgX = array();
array_push($cfgX, array('name' => 'localsource', 'title' => "Р’С‹Р±РµСЂРёС‚Рµ РєР°С‚Р°Р»РѕРі РёР· РєРѕС‚РѕСЂРѕРіРѕ РїР»Р°РіРёРЅ Р±СѓРґРµС‚ Р±СЂР°С‚СЊ С€Р°Р±Р»РѕРЅС‹ РґР»СЏ РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ<br /><small><b>РЁР°Р±Р»РѕРЅ СЃР°Р№С‚Р°</b> - РїР»Р°РіРёРЅ Р±СѓРґРµС‚ РїС‹С‚Р°С‚СЊСЃСЏ РІР·СЏС‚СЊ С€Р°Р±Р»РѕРЅС‹ РёР· РѕР±С‰РµРіРѕ С€Р°Р±Р»РѕРЅР° СЃР°Р№С‚Р°; РІ СЃР»СѓС‡Р°Рµ РЅРµРґРѕСЃС‚СѓРїРЅРѕСЃС‚Рё - С€Р°Р±Р»РѕРЅС‹ Р±СѓРґСѓС‚ РІР·СЏС‚С‹ РёР· СЃРѕР±СЃС‚РІРµРЅРЅРѕРіРѕ РєР°С‚Р°Р»РѕРіР° РїР»Р°РіРёРЅР°<br /><b>РџР»Р°РіРёРЅ</b> - С€Р°Р±Р»РѕРЅС‹ Р±СѓРґСѓС‚ Р±СЂР°С‚СЊСЃСЏ РёР· СЃРѕР±СЃС‚РІРµРЅРЅРѕРіРѕ РєР°С‚Р°Р»РѕРіР° РїР»Р°РіРёРЅР°</small>", 'type' => 'select', 'values' => array('0' => 'РЁР°Р±Р»РѕРЅ СЃР°Р№С‚Р°', '1' => 'РџР»Р°РіРёРЅ'), 'value' => intval(pluginGetVariable($plugin, 'localsource'))));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РќР°СЃС‚СЂРѕР№РєРё РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ</b>', 'entries' => $cfgX));
$cfgX = array();
array_push($cfgX, array('name' => 'extform', 'title' => "Р РµР¶РёРј РѕС‚РѕР±СЂР°Р¶РµРЅРёСЏ С„РѕСЂРјС‹", 'descr' => "<b>РќРѕРІРѕСЃС‚СЊ</b> - С„РѕСЂРјР° РѕС‚С‡С‘С‚Р° РІС‹РІРѕРґРёС‚СЃСЏ РІ СЃР°РјРѕР№ РЅРѕРІРѕСЃС‚Рё<br/><b>РћС‚РґРµР»СЊРЅР°СЏ СЃС‚СЂР°РЅРёС†Р°</b> - РІ РЅРѕРІРѕСЃС‚Рё РІС‹РІРѕРґРёС‚СЃСЏ С‚РѕР»СЊРєРѕ СЃСЃС‹Р»РєР°, С„РѕСЂРјР° Р¶Рµ РїРѕРєР°Р·С‹РІР°РµС‚СЃСЏ РЅР° РѕС‚РґРµР»СЊРЅРѕР№ СЃС‚СЂР°РЅРёС†Рµ", 'type' => 'select', 'values' => array('0' => 'РќРѕРІРѕСЃС‚СЊ', '1' => 'РћС‚РґРµР»СЊРЅР°СЏ СЃС‚СЂР°РЅРёС†Р°'), 'value' => intval(pluginGetVariable($plugin, 'extform'))));
array_push($cfgX, array('name' => 'errlist', 'title' => "РЎРїРёСЃРѕРє РѕС€РёР±РѕРє", 'descr' => "Р—Р°РїРёСЃС‹РІР°РµС‚СЃСЏ РІ С„РѕСЂРјР°С‚Рµ:<br/>РљРћР”_РћРЁР�Р‘РљР�<b>|</b>РўР•РљРЎРў_РћРЁР�Р‘РљР�<br/><b>РљРћР”_РћРЁР�Р‘РљР�</b> - СѓРЅРёРєР°Р»СЊРЅС‹Р№ С†РёС„СЂРѕРІРѕР№ РёРґРµРЅС‚РёС„РёРєР°С‚РѕСЂ (РѕС‚ 1 РґРѕ 255) РѕС€РёР±РєРё<br/><b>РўР•РљРЎРў_РћРЁР�Р‘РљР�</b> - С‚РµРєСЃС‚ РѕС€РёР±РєРё, РїРѕРєР°Р·С‹РІР°РµРјС‹Р№ РїРѕР»СЊР·РѕРІР°С‚РµР»СЋ.<br/>РџРѕР»СЊР·РѕРІР°С‚РµР»СЋ Рё Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂСѓ Р±СѓРґРµС‚ РѕС‚РѕР±СЂР°Р¶Р°С‚СЊСЃСЏ С‚РµРєСЃС‚, РЅРѕ РІ Р‘Р” Р±СѓРґРµС‚ С…СЂР°РЅРёС‚СЊСЃСЏ С‚РѕР»СЊРєРѕ РєРѕРґ", 'type' => 'text', 'html_flags' => 'cols=50 rows=6', 'value' => pluginGetVariable($plugin, 'errlist')));
array_push($cfgX, array('name' => 'inform_author', 'title' => "РћРїРѕРІРµС‰Р°С‚СЊ Р°РІС‚РѕСЂР° РЅРѕРІРѕСЃС‚Рё РїРѕ email Рѕ РїСЂРѕР±Р»РµРјРµ", 'descr' => "<b>Р”Р°</b> - РЅР° РєР°Р¶РґС‹Р№ РѕС‚С‡С‘С‚ РѕР± РѕС€РёР±РєРµ Р±СѓРґРµС‚ СЃС„РѕСЂРјРёСЂРѕРІР°РЅРѕ email СЃРѕРѕР±С‰РµРЅРёРµ<br/><b>РќРµС‚</b> - email СЃРѕРѕР±С‰РµРЅРёРµ РѕС‚РїСЂР°РІР»СЏС‚СЊСЃСЏ РЅРµ Р±СѓРґРµС‚", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'inform_author'))));
array_push($cfgX, array('name' => 'inform_admin', 'title' => "РћРїРѕРІРµС‰Р°С‚СЊ <b>Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂРѕРІ СЃР°Р№С‚Р°</b> РїРѕ email Рѕ РїСЂРѕР±Р»РµРјРµ", 'descr' => "<b>Р”Р°</b> - РЅР° РєР°Р¶РґС‹Р№ РѕС‚С‡С‘С‚ РѕР± РѕС€РёР±РєРµ Р±СѓРґРµС‚ СЃС„РѕСЂРјРёСЂРѕРІР°РЅРѕ email СЃРѕРѕР±С‰РµРЅРёРµ<br/><b>РќРµС‚</b> - email СЃРѕРѕР±С‰РµРЅРёРµ РѕС‚РїСЂР°РІР»СЏС‚СЊСЃСЏ РЅРµ Р±СѓРґРµС‚", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'inform_admin'))));
array_push($cfgX, array('name' => 'inform_reporter', 'title' => "РћРїРѕРІРµС‰Р°С‚СЊ Рѕ СЂРµС€РµРЅРёРё РїСЂРѕР±Р»РµРјС‹ Р°РІС‚РѕСЂР° РѕС‚С‡С‘С‚Р°", 'descr' => "<b>Р”Р°</b> - Р°РІС‚РѕСЂ Р±СѓРґРµС‚ РїРѕР»СѓС‡Р°РµС‚СЊ email СЃРѕРѕР±С‰РµРЅРёРµ РїСЂРё СЂРµР°РєС†РёРё Р°РґРјРёРЅРёСЃС‚СЂР°С†РёРё РЅР° РµРіРѕ РѕС‚С‡С‘С‚<br/><b>РќРµС‚</b> - email СЃРѕРѕР±С‰РµРЅРёРµ РѕС‚РїСЂР°РІР»СЏС‚СЊСЃСЏ РЅРµ Р±СѓРґРµС‚<br/><b>РџРѕ Р·Р°РїСЂРѕСЃСѓ</b> - email СЃРѕРѕР±С‰РµРЅРёРµ Р±СѓРґРµС‚ РѕС‚РїСЂР°РІР»СЏС‚СЊСЃСЏ, РµСЃР»Рё РѕРЅРѕ Р·Р°РїСЂРѕС€РµРЅРѕ Р°РІС‚РѕСЂРѕРј", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°', '2' => 'РџРѕ Р·Р°РїСЂРѕСЃСѓ'), 'value' => intval(pluginGetVariable($plugin, 'inform_reporter'))));
array_push($cfgX, array('name' => 'allow_unreg', 'title' => "Р Р°Р·СЂРµС€РёС‚СЊ РЅРµР·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Рј РѕСЃС‚Р°РІР»СЏС‚СЊ РѕС‚С‡С‘С‚С‹", 'descr' => "<b>Р”Р°</b> - РЅРµР·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Р№ РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃРјРѕР¶РµС‚ РѕСЃС‚Р°РІР»СЏС‚СЊ РѕС‚С‡С‘С‚<br/><b>РќРµС‚</b> - РѕС‚С‡С‘С‚ СЃРјРѕР¶РµС‚ РѕСЃС‚Р°РІРёС‚СЊ С‚РѕР»СЊРєРѕ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Р№ РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'allow_unreg'))));
array_push($cfgX, array('name' => 'allow_unreg_inform', 'title' => "Р Р°Р·СЂРµС€РёС‚СЊ РЅРµР·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Рј РїРѕР»СѓС‡Р°С‚СЊ РѕРїРѕРІРµС‰РµРЅРёСЏ", 'descr' => "<b>Р”Р°</b> - РЅРµР·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Р№ РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃРјРѕР¶РµС‚ СѓРєР°Р·Р°С‚СЊ СЃРІРѕР№ email Р°РґСЂРµСЃ РґР»СЏ РїРѕР»СѓС‡РµРЅРёСЏ РїРёСЃРµРј Рѕ СЂРµР°РєС†РёРё Р°РґРјРёРЅРёСЃС‚СЂР°С†РёРё РЅР° РѕС‚С‡С‘С‚<br/><b>РќРµС‚</b> - РїРѕР»СѓС‡РёС‚СЊ email РѕРїРѕРІРµС‰РµРЅРёРµ РЅРµР·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Р№ РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ РЅРµ СЃРјРѕР¶РµС‚", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'allow_unreg_inform'))));
array_push($cfgX, array('name' => 'allow_text', 'title' => "Р Р°Р·СЂРµС€РёС‚СЊ РґРѕР±Р°РІР»СЏС‚СЊ С‚РµРєСЃС‚РѕРІРѕРµ СЃРѕРѕР±С‰РµРЅРёРµ Рє РѕС‚С‡С‘С‚Сѓ РѕР± РѕС€РёР±РєРµ", 'descr' => "<b>РќРµС‚</b> - РґРѕР±Р°РІР»РµРЅРёРµ С‚РµРєСЃС‚Р° Р·Р°РїСЂРµС‰РµРЅРѕ<br/><b>РўРѕР»СЊРєРѕ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Рµ</b> - С‚РµРєСЃС‚ РјРѕРіСѓС‚ РґРѕР±Р°РІР»СЏС‚СЊ С‚РѕР»СЊРєРѕ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Рµ РїРѕР»СЊР·РѕРІР°С‚РµР»Рё<br/><b>Р”Р°</b> - С‚РµРєСЃС‚ РјРѕРіСѓС‚ РґРѕР±Р°РІР»СЏС‚СЊ РІСЃРµ", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'РўРѕР»СЊРєРѕ Р·Р°СЂРµРіРёСЃС‚СЂРёСЂРѕРІР°РЅРЅС‹Рµ', '2' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'allow_text'))));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РќР°СЃС‚СЂРѕР№РєРё РѕРїРѕРІРµС‰РµРЅРёР№</b>', 'entries' => $cfgX));
$cfgX = array();
array_push($cfgX, array('name' => 'admins', 'title' => "РЎРїРёСЃРѕРє РЅР°Р·РЅР°С‡РµРЅРЅС‹С… Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂРѕРІ", 'descr' => "РЈРєР°Р¶РёС‚Рµ СЃРїРёСЃРѕРє Р»РѕРіРёРЅРѕРІ РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№ (РїРѕ РѕРґРЅРѕРјСѓ Р»РѕРіРёРЅСѓ РІ СЃС‚СЂРѕРєРµ), РєРѕС‚РѕСЂС‹Рј Р±СѓРґСѓС‚ РІС‹РґР°РЅС‹ Р°РґРјРёРЅРёСЃС‚СЂР°С‚РёРІРЅС‹Рµ РїСЂР°РІР° РґР»СЏ СЂР°Р±РѕС‚С‹ СЃ РґР°РЅРЅС‹Рј РїР»Р°РіРёРЅРѕРј<br/><i>РџСЂРѕР±РµР»С‹ РІ РєРѕРЅС†Рµ СЃС‚СЂРѕРє РЅРµРґРѕРїСѓСЃС‚РёРјС‹!</i>", 'type' => 'text', 'html_flags' => 'cols=50 rows=2', 'value' => pluginGetVariable($plugin, 'admins')));
array_push($cfgX, array('name' => 'inform_admins', 'title' => "РћРїРѕРІРµС‰Р°С‚СЊ <b>РЅР°Р·РЅР°С‡РµРЅРЅС‹С… Р°РґРјРёРЅРёСЃС‚СЂР°С‚РѕСЂРѕРІ</b> РїРѕ email Рѕ РїСЂРѕР±Р»РµРјРµ", 'descr' => "<b>Р”Р°</b> - РЅР° РєР°Р¶РґС‹Р№ РѕС‚С‡С‘С‚ РѕР± РѕС€РёР±РєРµ Р±СѓРґРµС‚ СЃС„РѕСЂРјРёСЂРѕРІР°РЅРѕ email СЃРѕРѕР±С‰РµРЅРёРµ<br/><b>РќРµС‚</b> - email СЃРѕРѕР±С‰РµРЅРёРµ РѕС‚РїСЂР°РІР»СЏС‚СЊСЃСЏ РЅРµ Р±СѓРґРµС‚", 'type' => 'select', 'values' => array('0' => 'РќРµС‚', '1' => 'Р”Р°'), 'value' => intval(pluginGetVariable($plugin, 'inform_admin'))));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РЈРїСЂР°РІР»РµРЅРёРµ РґРѕСЃС‚СѓРїРѕРј</b>', 'entries' => $cfgX));
$cfgX = array();
array_push($cfgX, array('name' => 'cache', 'title' => "Р Р°Р·СЂРµС€РёС‚СЊ РєРµС€РёСЂРѕРІР°РЅРёРµ С„РѕСЂРјС‹<br />", 'descr' => '<b>Р”Р°</b> - РєРµС€РёСЂРѕРІР°РЅРёРµ СЂР°Р·СЂРµС€РµРЅРѕ<br /><b>РќРµС‚</b> - РєРµС€РёСЂРѕРІР°РЅРёРµ Р·Р°РїСЂРµС‰РµРЅРѕ', 'type' => 'select', 'values' => array('1' => 'Р”Р°', '0' => 'РќРµС‚'), 'value' => intval(pluginGetVariable($plugin, 'cache'))));
array_push($cfg, array('mode' => 'group', 'title' => '<b>РќР°СЃС‚СЂРѕР№РєРё РєРµС€РёСЂРѕРІР°РЅРёСЏ</b>', 'entries' => $cfgX));
// RUN
if ($_REQUEST['action'] == 'commit') {
	// If submit requested, do config save
	commit_plugin_config_changes($plugin, $cfg);
	print_commit_complete($plugin);
} else {
	generate_config_page($plugin, $cfg);
}
?>